# 모던 리액트 딥 다이브: chapter1 [리액트 개발을 위해 꼭 알아야 할 자바스크립트]

## 1.4 클로저

### 1.4.1 클로저의 정의

- "함수와 함수가 선언된 어휘적 환경의 조합"으로 클로저는 함수와 그 함수가 선언된 렉시컬 환경의 조합이다. 클로저는 함수가 자신이 선언된 위치의 상위 스코프를 기억하고 있는 것을 의미한다.

```
function add() {
    const a = 10;
    function innerAdd() {
        const b = 20;
        console.log(a + b);
    }
    innerAdd(); //30
}

add();
```

- a 변수의 유효 범위는 add 전체이고, b의 유효점위는 innerAdd 전체이다. innerAdd는 add 내부에서 선언돼 있어 a를 사용할 수 있게 된 것이다. 즉 앞에서 말하는 "선언된 어휘적 환경" 이라는 것은 변수가 코드 내부에서 어디서 선언됐는지를 말하는 것이다.

### 1.4.2 변수의 유효범위, 스코프

- 클로저를 이해하기 위해서는 변수의 유효범위에 따라서 어휘적 환경이 결정된다고 언급했다. 이러한 변수의 유효 범위를 스코프라고 한다.

  - 전역스코프: 전역 레벨에 선언하는 것을 전역 스코프라고한다. 이 스코프에서 변수를 선언하면 어디서든 호출가능하다 브라우저 환경에서 전역 객체는 window, Node.js 환경에서는 global이다.
  - 함수스코프: 다른 언어와 달리 자바스크립트는 기본적으로 함수 레벨 스코프를 따른다. {} 블록이 스코프 범위를 결정하지 않는다.

  ```
  if(true) {
    var global = 'global';
  }
  console.log(global); // global
  ```

  - 자바스크립트에서 스코프는, 일단 가장 가까운 스코프에서 변수가 존재하는지를 먼저 확인해 본다.

  ### 1.4.3 클로저의 활용

  - 자바스크립트는 함수 레벨 스코프를 가지고 있으므로, 이렇게 선언된 함수 레벨 스코프를 활용해 어떤 작업을 할 수 있다는 개념이 바로 클로저이다.

  ```
  function outerFunction() {
   var x = 'hello'
   function innerFunction() {
       console.log(x);
   }
   return innerFunction;
  }
  const innerFunction = outerFunction();
  innerFunction(); // hello
  ```

  -클로저의 활용: 전역 스코프는 어디서든 원하는 값을 꺼내올 수 있다는 장점이 있지만, 반대로 이야기하면 누구든 접근할 수 있고 수정할 수 있다는 뜻도 된다.

  -리액트에서의 클로저: 클로저의 원리를 사용하고 있는 대표적인 것 중 하나가 바로 useState이다.

  ### 1.5 이벤트 루프와 비동기 통신의 이해
